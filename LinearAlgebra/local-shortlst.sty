%%
%% This is file `local-shortlst.sty',

\NeedsTeXFormat{LaTeX2e}[1997/12/01]
\ProvidesPackage{local-shortlst}
         [2010/11/07 version 2.0]
\RequirePackage{varwidth}
\newskip\runitemsep
\runitemsep = 1em \@plus .5em \@minus .5em
\newenvironment{runitemize}{%
    \ifnum \@itemdepth >\thr@@
      \@toodeep
    \else
      \advance\@itemdepth\@ne
      \edef\@itemitem{labelitem\romannumeral\the\@itemdepth}%
      \def\@itemlabel{\csname\@itemitem\endcsname}%
      \let\@item\run@item
      \let\par\relax
      \ignorespaces
    \fi}
  {\unskip\hspace\runitemsep\ignorespacesafterend}
\newenvironment{runenumerate}{%
    \ifnum \@enumdepth >\thr@@
      \@toodeep
    \else
      \advance\@enumdepth\@ne
      \edef\@enumctr{enum\romannumeral\the\@enumdepth}%
      \usecounter{\@enumctr}%
      \def\@itemlabel{\csname label\@enumctr \endcsname}%
      \let\@item\run@item
      \let\par\@empty
      \ignorespaces
    \fi}
  {\unskip\hspace\runitemsep\ignorespacesafterend}
\def\run@item[#1]{%
  \ifhmode
    \unskip\hspace\runitemsep
  \else
    \leavevmode
  \fi
  \if@noitemarg
    \@noitemargfalse
    \if@nmbrlist
      \refstepcounter{\@listctr}%
    \fi
  \fi
  \mbox{#1}\kern\labelsep\ignorespaces}
\newdimen\shortitemwidth
\shortitemwidth = 65\p@
\newenvironment{shortitemize}[1][\hbox to \shortitemwidth{\hfil}]{%
   \ifnum \@itemdepth >\thr@@\@toodeep\let\endsh@rtitem\relax\else
   \ifx\item\sh@rtitem\sh@rtnesterr\let\endsh@rtitem\relax\else
   \advance\@itemdepth\@ne
   \edef\@itemitem{labelitem\romannumeral\the\@itemdepth}%
   \settowidth\shortitemwidth{#1}%
   \list{}{\addtolength\leftmargin\itemindent
           \addtolength\leftmargin{-\labelwidth}%
           \addtolength\leftmargin{-\labelsep}%
           \setlength\itemindent\z@}%
   \item\relax
   \@rightskip\@flushglue \rightskip\@rightskip
   \let\endsh@rtitem\noindent
   \let\item\sh@rtitem
   \def\@itemlabel{\csname\@itemitem\endcsname}%
   \fi\fi\ignorespaces}%
   {\endsh@rtitem\endlist}
\newenvironment{shortenumerate}[1][\hbox to \shortitemwidth{\hfil}]{%
    \ifnum\@enumdepth >\thr@@
      \@toodeep
      \let\endsh@rtitem\relax
    \else
      \ifx\item\sh@rtitem
        \sh@rtnesterr
        \let\endsh@rtitem\relax
      \else
        \advance\@enumdepth\@ne
        \edef\@enumctr{enum\romannumeral\the\@enumdepth}%
        \settowidth\shortitemwidth{#1}%
        \list{}{\leftmargin\parindent
                \parsep\parskip
                \partopsep\z@
                \topsep\z@
                \itemindent\z@}%
        \item\relax
        \@rightskip\@flushglue
        \rightskip\@rightskip
        \usecounter{\@enumctr}%
        \def\@itemlabel{\csname label\@enumctr \endcsname}%
        \settowidth\labelwidth\@itemlabel
        \let\endsh@rtitem\noindent
        \let\item\sh@rtitem
      \fi
    \fi\ignorespaces}%
  {\endsh@rtitem\endlist}
\ifx\TX@ftn\undefined
  \newtoks\TX@ftn
  \long\def\TX@ftntext#1{%
    \edef\@tempa{\the\TX@ftn\noexpand\footnotetext[\the\csname c@\@mpfn\endcsname]}%
    \global\TX@ftn\expandafter{\@tempa{#1}}}%
  \long\def\TX@xftntext[#1]#2{%
    \global\TX@ftn\expandafter{\the\TX@ftn\footnotetext[#1]{#2}}}
\fi
\def\sh@rtitem{%
  \endsh@rtitem
  \@inmatherr\item
  \@ifnextchar[\sh@rt@item{\@noitemargtrue\sh@rt@item[\@itemlabel]}}
\def\sh@rt@item[#1]{%
  \def\endsh@rtitem{\endvarwidth\unskip\ignorespaces\endlrbox\endgroup%
  \@tempdima = \wd\@tempboxa
  \advance\@tempdima\labelsep
  \@tempdimb = \shortitemwidth
  \advance\@tempdimb \labelsep
  \advance\@tempdimb \labelwidth
  \advance\@tempdima -1sp % subtract a Very Small Length
  \divide\@tempdima \@tempdimb
  \advance\@tempdima 1sp %  add one
  \multiply\@tempdimb \@tempdima
  \advance\@tempdimb -\wd\@tempboxa
  \usebox\@tempboxa
  \global\TX@ftn\expandafter{\expandafter}\the\TX@ftn
  \hspace\@tempdimb}%
  \if@noitemarg
    \@noitemargfalse
    \if@nmbrlist
      \refstepcounter{\@listctr}%
    \fi
  \fi
  \begingroup\lrbox{\@tempboxa}\varwidth[t]{\linewidth}%
    \leftskip-\leftmargin
    \parindent\leftmargin
    \let\@footnotetext\TX@ftntext
    \let\@xfootnotenext\TX@xftntext
    \unskip\makebox[\labelwidth][r]{#1\strut}%
    \hspace{\labelsep}\ignorespaces}
\newcommand{\sh@rtnesterr}{\PackageError{local-shortlst}
   {nested short-lists}
   {don't nest short-list environments within each other}}
\endinput
%%
%% End of file `local-shortlst.sty'.
